import{_ as h,r as m,o as i,c,b as e,d as g,w as f,t as s,h as n,e as v}from"./index-Ntgc_m6i.js";var b={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"iris831206",BASE_URL:"/vue-sample-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:u,VITE_API_PATH:l}=b,L={data(){return{isLoading:!1,product:{},id:""}},methods:{getProduct(){const r=`${u}/api/${l}/product/${this.id}`;this.isLoading=!0,this.$http.get(r).then(o=>{this.product=o.data.product,this.isLoading=!1})},addToCart(r,o=1){const d=`${u}/api/${l}/cart`,a={product_id:r,qty:o};this.isLoading=!0,this.$http.post(d,{data:a}).then(t=>{this.isLoading=!1,this.$router.push("/cart")}).catch(t=>{this.isLoading=!1,alert(t.response.data.message)})}},mounted(){this.id=this.$route.params.productId,this.getProduct()}},P={class:"container"},k={"aria-label":"breadcrumb"},I={class:"breadcrumb"},T={class:"breadcrumb-item"},V={class:"breadcrumb-item active","aria-current":"page"},E={class:"row justify-content-center"},A={class:"col-8"},R=["src","alt"],x={class:"col-4"},y={key:0,class:"h5"},C={key:1,class:"h6"},U={key:2,class:"h5"},w=e("hr",null,null,-1);function B(r,o,d,a,t,p){const _=m("RouterLink");return i(),c("div",P,[e("nav",k,[e("ol",I,[e("li",T,[g(_,{to:"/cart"},{default:f(()=>[v("購物車")]),_:1})]),e("li",V,s(t.product.title),1)])]),e("div",E,[e("article",A,[e("h2",null,s(t.product.title),1),e("div",null,s(t.product.content),1),e("div",null,s(t.product.description),1),e("img",{src:t.product.imageUrl,class:"img-fluid mb-3",alt:t.product.title},null,8,R)]),e("div",x,[t.product.price?n("",!0):(i(),c("div",y,s(t.product.origin_price)+" 元",1)),t.product.price?(i(),c("del",C,"原價 "+s(t.product.origin_price)+" 元",1)):n("",!0),t.product.price?(i(),c("div",U,"現在只要 "+s(t.product.price)+" 元",1)):n("",!0),w,e("button",{type:"button",class:"btn btn-outline-danger",onClick:o[0]||(o[0]=D=>p.addToCart(t.product.id))}," 加到購物車 ")])])])}const S=h(L,[["render",B]]);export{S as default};
