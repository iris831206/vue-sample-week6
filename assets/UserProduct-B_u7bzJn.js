import{_ as v,r as u,o as c,c as r,d as l,b as e,w as f,t as s,h as n,F as b,e as L}from"./index-6skObqX_.js";var V={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"iris831206",BASE_URL:"/vue-sample-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:p,VITE_API_PATH:_}=V,P={data(){return{isLoading:!1,product:{},id:""}},methods:{getProduct(){const i=`${p}/api/${_}/product/${this.id}`;this.isLoading=!0,this.$http.get(i).then(o=>{this.product=o.data.product,this.isLoading=!1})},addToCart(i,o=1){const d=`${p}/api/${_}/cart`,a={product_id:i,qty:o};this.isLoading=!0,this.$http.post(d,{data:a}).then(t=>{this.isLoading=!1,this.$router.push("/cart")}).catch(t=>{this.isLoading=!1,alert(t.response.data.message)})}},mounted(){this.id=this.$route.params.productId,this.getProduct()}},k={class:"container"},I={"aria-label":"breadcrumb"},T={class:"breadcrumb"},E={class:"breadcrumb-item"},x={class:"breadcrumb-item active","aria-current":"page"},A={class:"row justify-content-center"},R={class:"col-8"},y=["src","alt"],C={class:"col-4"},U={key:0,class:"h5"},w={key:1,class:"h6"},B={key:2,class:"h5"},D=e("hr",null,null,-1);function N(i,o,d,a,t,h){const m=u("VueLoading"),g=u("RouterLink");return c(),r(b,null,[l(m,{active:t.isLoading,"z-index":1060},null,8,["active"]),e("div",k,[e("nav",I,[e("ol",T,[e("li",E,[l(g,{to:"/cart"},{default:f(()=>[L("購物車")]),_:1})]),e("li",x,s(t.product.title),1)])]),e("div",A,[e("article",R,[e("h2",null,s(t.product.title),1),e("div",null,s(t.product.content),1),e("div",null,s(t.product.description),1),e("img",{src:t.product.imageUrl,class:"img-fluid mb-3",alt:t.product.title},null,8,y)]),e("div",C,[t.product.price?n("",!0):(c(),r("div",U,s(t.product.origin_price)+" 元",1)),t.product.price?(c(),r("del",w,"原價 "+s(t.product.origin_price)+" 元",1)):n("",!0),t.product.price?(c(),r("div",B,"現在只要 "+s(t.product.price)+" 元",1)):n("",!0),D,e("button",{type:"button",class:"btn btn-outline-danger",onClick:o[0]||(o[0]=S=>h.addToCart(t.product.id))}," 加到購物車 ")])])])],64)}const H=v(P,[["render",N]]);export{H as default};
