import{c as n}from"./cartStore-FLFL6EeO.js";import{_ as g,m as d,a as v,g as c,o as i,c as a,h,b as t,F as u,r as x,t as e,i as w,d as y}from"./index-pMnUd_Vm.js";import{S as _}from"./sweetalert2.all-5mWSKkjP.js";var L={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"iris831206",BASE_URL:"/vue-sample-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:p,VITE_API_PATH:m}=L,I={data(){return{order:{user:{}},orderId:""}},methods:{randomValue(){this.value=Math.random()*this.max},...d(n,["addToCart"]),...d(n,["getCart"]),getOrder(){const l=`${p}/api/${m}/order/${this.orderId}`;this.isLoading=!0,this.$http.get(l).then(o=>{this.order=o.data.order,this.isLoading=!1}).catch(o=>{this.isLoading=!1,_.fire({icon:"error",title:o.response.data.message,showConfirmButton:!1,timer:1500})})},payOrder(){const l=`${p}/api/${m}/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(l).then(()=>{this.isLoading=!1,this.getOrder()}).catch(o=>{this.isLoading=!1,_.fire({icon:"error",title:o.response.data.message,showConfirmButton:!1,timer:1500})})}},computed:{...v(n,["carts","total","final_total"])},mounted(){this.orderId=this.$route.params.orderId,this.getOrder()}},V={class:"bg-light pt-5 pb-7"},T={class:"container"},E={class:"row justify-content-center flex-md-row flex-column-reverse"},k={class:"col-md-6"},A=t("div",{class:"position-relative m-4"},[t("div",{class:"progress",role:"progressbar","aria-label":"Progress","aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100",style:{height:"1px"}},[t("div",{class:"progress-bar",style:{width:"100%"}})]),t("button",{type:"button",class:"position-absolute top-0 start-0 translate-middle btn btn-sm btn-primary rounded-pill",style:{width:"2rem",height:"2rem"}},"1"),t("button",{type:"button",class:"position-absolute top-0 start-50 translate-middle btn btn-sm btn-primary rounded-pill",style:{width:"2rem",height:"2rem"}},"2"),t("button",{type:"button",class:"position-absolute top-0 start-100 translate-middle btn btn-sm btn-primary rounded-pill",style:{width:"2rem",height:"2rem"}},"3")],-1),P={class:"bg-white p-4"},S={class:"border p-4 mb-4"},$=t("h4",{class:"mb-4"},"訂單明細",-1),C=["src","alt"],R={class:"w-100"},j={class:"d-flex justify-content-between fw-bold"},B={class:"mb-0"},O={class:"mb-0"},U={class:"d-flex justify-content-between"},D={class:"text-muted mb-0"},N={class:"mb-0"},F=t("table",{class:"table mt-4 border-top border-bottom text-muted"},[t("tbody",null,[t("tr",null,[t("th",{scope:"row",class:"border-0 px-0 pt-4 font-weight-normal text-end"},"總計")])])],-1),H={class:"d-flex justify-content-between mt-4"},M=t("p",{class:"mb-0 h4 fw-bold"},"Total",-1),q={class:"mb-0 h4 fw-bold"},z=t("h4",{class:"fw-bold mb-2"},"收件資訊",-1),G={class:"table"},J=t("th",{width:"100"},"Email",-1),K=t("th",null,"姓名",-1),Q=t("th",null,"收件人電話",-1),W=t("th",null,"收件人地址",-1),X=t("tr",null,null,-1),Y=t("p",{class:"text-end text-success fs-5 fw-bold"},"已完成訂購",-1),Z={class:"d-flex flex-column-reverse flex-md-row mt-4 justify-content-between align-items-md-center align-items-end"},tt=t("i",{class:"fas fa-chevron-left me-2"},null,-1);function et(l,o,st,ot,r,rt){const b=c("VueLoading"),f=c("RouterLink");return i(),a(u,null,[h(b,{active:l.isLoading,"z-index":1060},null,8,["active"]),t("div",V,[t("div",T,[t("div",E,[t("div",k,[A,t("div",P,[t("div",S,[$,(i(!0),a(u,null,x(r.order.products,s=>(i(),a("div",{class:"d-flex mt-3",key:s.id},[t("img",{src:s.product.imageUrl,alt:s.product.title,class:"me-2",style:{width:"48px",height:"48px","object-fit":"cover"}},null,8,C),t("div",R,[t("div",j,[t("p",B,e(s.product.title),1),t("p",O,"x"+e(s.qty)+"/"+e(s.product.unit),1)]),t("div",U,[t("p",D,[t("small",null,e(s.product.price)+"/"+e(s.product.unit),1)]),t("p",N,"小計 "+e(s.final_total)+" 元",1)])])]))),128)),F,t("div",H,[M,t("p",q,"NT$"+e(r.order.total),1)])]),z,t("table",G,[t("tbody",null,[t("tr",null,[J,t("td",null,e(r.order.user.email),1)]),t("tr",null,[K,t("td",null,e(r.order.user.name),1)]),t("tr",null,[Q,t("td",null,e(r.order.user.tel),1)]),t("tr",null,[W,t("td",null,e(r.order.user.address),1)]),X])]),Y]),t("div",Z,[h(f,{to:"/products",class:"text-dark mt-md-0 mt-3 text-decoration-none"},{default:w(()=>[tt,y("繼續購物 ")]),_:1})])])])])])],64)}const at=g(I,[["render",et]]);export{at as default};
