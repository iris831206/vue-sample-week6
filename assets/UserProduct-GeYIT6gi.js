import{S as y,a as I,P as k}from"./pagination-4l-8hQ3C.js";import{s as S,q as x,m as v,a as L,_ as f,g as a,o as r,j as h,i as p,c as g,r as T,b as t,t as n,F as w,h as u,w as V,f as $,k as A,d as E}from"./index-pMnUd_Vm.js";import{c as R}from"./cartStore-FLFL6EeO.js";import"./sweetalert2.all-5mWSKkjP.js";var D={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"iris831206",BASE_URL:"/vue-sample-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:U,VITE_API_PATH:q}=D,b=S("productStore",{state:()=>({products:[],isLoading:!1,status:{loadingItem:""}}),actions:{getData(){this.isLoading=!0;const o=`${U}/api/${q}/products/all`;x.get(o).then(s=>{this.products=s.data.products,this.isLoading=!1}).catch(s=>{this.isLoading=!1,alert(s.response.data.message)})}}}),C={methods:{...v(b,["getData"]),getProduct(o){this.$router.push({path:`/product/${o}`}).then(()=>{window.location.reload()})}},computed:{...L(b,["products"])},mounted(){this.getData()},components:{Swiper:y,SwiperSlide:I},setup(){return{modules:[k]}}},B=["onClick"],j={class:"image-container"},H=["src","alt"],N={class:"card-body p-0"},O={class:"text-dark mt-3 text-decoration-none"},M={class:"card-text mb-0"},F=t("p",{class:"text-muted mt-3"},null,-1);function z(o,s,P,_,e,m){const c=a("swiper-slide"),l=a("swiper");return r(),h(l,{slidesPerView:3,spaceBetween:30,loop:!0,pagination:{clickable:!0},modules:_.modules,class:"mySwiper"},{default:p(()=>[(r(!0),g(w,null,T(o.products,i=>(r(),h(c,{key:i.id},{default:p(()=>[t("div",{class:"card border-0 mb-4 position-relative position-relative",onClick:d=>m.getProduct(i.id)},[t("div",j,[t("img",{src:i.imageUrl,class:"card-img-top rounded-0",alt:i.title},null,8,H)]),t("div",N,[t("h5",O,n(i.title),1),t("p",M," $ "+n(i.price)+" 元",1),F])],8,B)]),_:2},1024))),128))]),_:1},8,["modules"])}const G=f(C,[["render",z]]);var J={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"iris831206",BASE_URL:"/vue-sample-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:K,VITE_API_PATH:Q}=J,W={data(){return{isLoading:!1,product:{},id:"",qty:1}},methods:{getProduct(){const o=`${K}/api/${Q}/product/${this.id}`;this.isLoading=!0,this.$http.get(o).then(s=>{this.product=s.data.product,this.isLoading=!1})},...v(R,["addToCart"])},components:{ProductSwiper:G},mounted(){this.id=this.$route.params.productId,this.getProduct()}},X={class:"container"},Y={class:"row justify-content-between mt-4"},Z={class:"col-md-6"},tt={"aria-label":"breadcrumb"},st={class:"breadcrumb"},et={class:"breadcrumb-item"},ot={class:"breadcrumb-item active","aria-current":"page"},it=["src"],nt={class:"col-md-6 align-self-end"},dt={class:"text-end mt-2"},at={class:"fw-bold fs-4 text-end mb-5"},rt={class:"input-group border mt-3"},ct={class:"input-group-prepend"},lt=["disabled"],ut=t("i",{class:"fas fa-minus"},null,-1),pt=[ut],_t={class:"input-group-append"},mt=t("i",{class:"fas fa-plus"},null,-1),ht=[mt],bt=A('<div class="row justify-content-between mt-4"><div><div class="card text-dark bg-light mb-5 p-0"><div class="card-header">商品說明</div><div class="card-body"><div class="card-text"><p class="mb-0">每塊皂的重量約100g，誤差在 5% 以內，保障您的消費權益。</p><p class="mb-0">恰到好處的大小，給您良好的手握感。</p><p class="mb-0">經過 30~90 天的熟成乾燥後才包裝上架，以確保品質。</p><p class="mb-0">成品皂體細密緊緻，不含防腐劑、抗氧化劑，可保存二年。</p></div></div></div></div></div>',1),vt={class:"row justify-content-between mt-4"},ft={class:"bg-light"},gt={class:"container"},wt=t("h4",{class:"mt-5 fw-bold"},"推薦商品",-1),Pt={class:"row justify-content-center py-5"};function yt(o,s,P,_,e,m){const c=a("VueLoading"),l=a("RouterLink"),i=a("ProductSwiper");return r(),g(w,null,[u(c,{active:e.isLoading,"z-index":1060},null,8,["active"]),t("div",X,[t("div",Y,[t("div",Z,[t("nav",tt,[t("ol",st,[t("li",et,[u(l,{to:"/products"},{default:p(()=>[E("產品列表")]),_:1})]),t("li",ot,n(e.product.title),1)])]),t("div",null,[t("img",{src:e.product.imageUrl,alt:"",class:"img-fluid"},null,8,it)])]),t("div",nt,[t("h2",dt,n(e.product.title),1),t("p",at,"NT $"+n(e.product.price)+" 元",1),t("p",null,n(e.product.description),1),t("div",rt,[t("div",ct,[t("button",{onClick:s[0]||(s[0]=d=>e.qty>1&&e.qty--),disabled:e.qty<=1,class:"btn btn-outline-dark rounded-0 border-0 py-3",type:"button",id:"button-addon1"},pt,8,lt)]),V(t("input",{readonly:"",min:"1",type:"number","onUpdate:modelValue":s[1]||(s[1]=d=>e.qty=d),class:"form-control border-0 text-center my-auto shadow-none",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1",value:"1"},null,512),[[$,e.qty]]),t("div",_t,[t("button",{onClick:s[2]||(s[2]=d=>e.qty++),class:"btn btn-outline-dark rounded-0 border-0 py-3",type:"button",id:"button-addon2"},ht)]),t("div",{class:"btn btn-dark btn-block rounded-0 py-3",onClick:s[3]||(s[3]=d=>o.addToCart(e.product.id,e.qty))},"加入購物車")])])]),bt]),t("div",vt,[t("div",ft,[t("div",gt,[wt,t("div",Pt,[u(i)])])])])],64)}const Lt=f(W,[["render",yt]]);export{Lt as default};
