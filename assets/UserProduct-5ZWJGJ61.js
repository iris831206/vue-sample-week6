import{S as y,a as I,P as S}from"./pagination-WRJgR5vW.js";import{x as k,u as x,m as v,a as L,_ as f,g as a,o as c,j as h,i as u,c as g,r as T,b as t,t as d,F as w,p as V,q as $,h as p,w as A,f as E,k as R,d as D}from"./index-Z8TpkjS2.js";import{c as U}from"./cartStore-_fWbGGY1.js";import"./sweetalert2.all-d0fy8HQW.js";var q={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"iris831206",BASE_URL:"/vue-sample-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:C,VITE_API_PATH:B}=q,b=k("productStore",{state:()=>({products:[],isLoading:!1,status:{loadingItem:""}}),actions:{getData(){this.isLoading=!0;const o=`${C}/api/${B}/products/all`;x.get(o).then(s=>{this.products=s.data.products,this.isLoading=!1}).catch(s=>{this.isLoading=!1,alert(s.response.data.message)})}}}),j={methods:{...v(b,["getData"]),getProduct(o){this.$router.push({path:`/product/${o}`}).then(()=>{window.location.reload()})}},computed:{...L(b,["products"])},mounted(){this.getData()},components:{Swiper:y,SwiperSlide:I},setup(){return{modules:[S]}}},H=o=>(V("data-v-7e232b8d"),o=o(),$(),o),N=["onClick"],O={class:"image-container"},M=["src","alt"],F={class:"card-body p-0"},z={class:"text-dark mt-3 text-decoration-none"},G={class:"card-text mb-0"},J=H(()=>t("p",{class:"text-muted mt-3"},null,-1));function K(o,s,P,_,e,m){const r=a("swiper-slide"),l=a("swiper");return c(),h(l,{slidesPerView:3,spaceBetween:30,loop:!0,pagination:{clickable:!0},modules:_.modules,class:"mySwiper"},{default:u(()=>[(c(!0),g(w,null,T(o.products,i=>(c(),h(r,{key:i.id},{default:u(()=>[t("div",{class:"card border-0 mb-4 position-relative position-relative",onClick:n=>m.getProduct(i.id)},[t("div",O,[t("img",{src:i.imageUrl,class:"card-img-top rounded-0",alt:i.title},null,8,M)]),t("div",F,[t("h5",z,d(i.title),1),t("p",G," $ "+d(i.price)+" 元",1),J])],8,N)]),_:2},1024))),128))]),_:1},8,["modules"])}const Q=f(j,[["render",K],["__scopeId","data-v-7e232b8d"]]);var W={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"iris831206",BASE_URL:"/vue-sample-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:X,VITE_API_PATH:Y}=W,Z={data(){return{isLoading:!1,product:{},id:"",qty:1}},methods:{getProduct(){const o=`${X}/api/${Y}/product/${this.id}`;this.isLoading=!0,this.$http.get(o).then(s=>{this.product=s.data.product,this.isLoading=!1})},...v(U,["addToCart"])},components:{ProductSwiper:Q},mounted(){this.id=this.$route.params.productId,this.getProduct()}},tt={class:"container"},st={class:"row justify-content-between mt-4"},et={class:"col-md-6"},ot={"aria-label":"breadcrumb"},it={class:"breadcrumb"},dt={class:"breadcrumb-item"},nt={class:"breadcrumb-item active","aria-current":"page"},at=["src"],ct={class:"col-md-6 align-self-end"},rt={class:"text-end mt-2"},lt={class:"fw-bold fs-4 text-end mb-5"},pt={class:"input-group border mt-3"},ut={class:"input-group-prepend"},_t=["disabled"],mt=t("i",{class:"fas fa-minus"},null,-1),ht=[mt],bt={class:"input-group-append"},vt=t("i",{class:"fas fa-plus"},null,-1),ft=[vt],gt=R('<div class="row justify-content-between mt-4"><div><div class="card text-dark bg-light mb-5 p-0"><div class="card-header">商品說明</div><div class="card-body"><div class="card-text"><p class="mb-0">每塊皂的重量約100g，誤差在 5% 以內，保障您的消費權益。</p><p class="mb-0">恰到好處的大小，給您良好的手握感。</p><p class="mb-0">經過 30~90 天的熟成乾燥後才包裝上架，以確保品質。</p><p class="mb-0">成品皂體細密緊緻，不含防腐劑、抗氧化劑，可保存二年。</p></div></div></div></div></div>',1),wt={class:"row justify-content-between mt-4"},Pt={class:"bg-light"},yt={class:"container"},It=t("h4",{class:"mt-5 fw-bold"},"推薦商品",-1),St={class:"row justify-content-center py-5"};function kt(o,s,P,_,e,m){const r=a("VueLoading"),l=a("RouterLink"),i=a("ProductSwiper");return c(),g(w,null,[p(r,{active:e.isLoading,"z-index":1060},null,8,["active"]),t("div",tt,[t("div",st,[t("div",et,[t("nav",ot,[t("ol",it,[t("li",dt,[p(l,{to:"/products"},{default:u(()=>[D("產品列表")]),_:1})]),t("li",nt,d(e.product.title),1)])]),t("div",null,[t("img",{src:e.product.imageUrl,alt:"",class:"img-fluid"},null,8,at)])]),t("div",ct,[t("h2",rt,d(e.product.title),1),t("p",lt,"NT $"+d(e.product.price)+" 元",1),t("p",null,d(e.product.description),1),t("div",pt,[t("div",ut,[t("button",{onClick:s[0]||(s[0]=n=>e.qty>1&&e.qty--),disabled:e.qty<=1,class:"btn btn-outline-dark rounded-0 border-0 py-3",type:"button",id:"button-addon1"},ht,8,_t)]),A(t("input",{readonly:"",min:"1",type:"number","onUpdate:modelValue":s[1]||(s[1]=n=>e.qty=n),class:"form-control border-0 text-center my-auto shadow-none",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1",value:"1"},null,512),[[E,e.qty]]),t("div",bt,[t("button",{onClick:s[2]||(s[2]=n=>e.qty++),class:"btn btn-outline-dark rounded-0 border-0 py-3",type:"button",id:"button-addon2"},ft)]),t("div",{class:"btn btn-dark btn-block rounded-0 py-3",onClick:s[3]||(s[3]=n=>o.addToCart(e.product.id,e.qty))},"加入購物車")])])]),gt]),t("div",wt,[t("div",Pt,[t("div",yt,[It,t("div",St,[p(i)])])])])],64)}const $t=f(Z,[["render",kt]]);export{$t as default};
